<!DOCTYPE html>
<html>
<head>
    <title>Electric Field Calculator</title>
</head>
<body>
    <h1>Electric Field Calculator</h1>
    <form method="POST" action="/">
        <label for="charge_type">Charge Type:</label>
        <select name="charge_type" id="charge_type">
            <option value="P">Point Charge</option>
            <option value="L">Line Charge</option>
            <option value="S">Surface Charge</option>
        </select>
        <br><br>

        <div id="point_charge_fields">
            <label for="charge_x">Charge Position (x):</label>
            <input type="number" step="any" name="charge_x" required>
            <br><br>
            
            <label for="charge_y">Charge Position (y):</label>
            <input type="number" step="any" name="charge_y" required>
            <br><br>
            
            <label for="charge_z">Charge Position (z):</label>
            <input type="number" step="any" name="charge_z" required>
            <br><br>
            
            <label for="charge">Charge:</label>
            <input type="number" step="any" name="charge" required>
            <br><br>
        </div>

        <div id="line_charge_fields">
            <label for="line_charge_x1">Line Charge Start (x1):</label>
            <input type="number" step="any" name="line_charge_x1" required>
            <br><br>
            
            <label for="line_charge_y1">Line Charge Start (y1):</label>
            <input type="number" step="any" name="line_charge_y1" required>
            <br><br>
            
            <label for="line_charge_z1">Line Charge Start (z1):</label>
            <input type="number" step="any" name="line_charge_z1" required>
            <br><br>
            
            <label for="line_charge_x2">Line Charge End (x2):</label>
            <input type="number" step="any" name="line_charge_x2" required>
            <br><br>
            
            <label for="line_charge_y2">Line Charge End (y2):</label>
            <input type="number" step="any" name="line_charge_y2" required>
            <br><br>
            
            <label for="line_charge_z2">Line Charge End (z2):</label>
            <input type="number" step="any" name="line_charge_z2" required>
            <br><br>
            
            <label for="line_charge">Charge Density:</label>
            <input type="number" step="any" name="line_charge" required>
            <br><br>
        </div>

        <div id="surface_charge_fields">
            <label for="surface_charge_x">Surface Charge Position (x):</label>
            <input type="number" step="any" name="surface_charge_x" required>
            <br><br>
            
            <label for="surface_charge_y">Surface Charge Position (y):</label>
            <input type="number" step="any" name="surface_charge_y" required>
            <br><br>
            
            <label for="surface_charge_z">Surface Charge Position (z):</label>
            <input type="number" step="any" name="surface_charge_z" required>
            <br><br>
            
            <label for="surface_charge">Charge Density:</label>
            <input type="number" step="any" name="surface_charge" required>
            <br><br>
        </div>

        <label for="ref_x">Reference Point (x):</label>
        <input type="number" step="any" name="ref_x" required>
        <br><br>

        <label for="ref_y">Reference Point (y):</label>
        <input type="number" step="any" name="ref_y" required>
        <br><br>

        <label for="ref_z">Reference Point (z):</label>
        <input type="number" step="any" name="ref_z" required>
        <br><br>

        <input type="submit" value="Calculate Electric Field">
    </form>

    {% if net_field %}
    <h2>Net Electric Field at Reference Point:</h2>
    <p>Net Electric Field (Ex): {{ net_field[0] }} N/C</p>
    <p>Net Electric Field (Ey): {{ net_field[1] }} N/C</p>
    <p>Net Electric Field (Ez): {{ net_field[2] }} N/C</p>
    {% endif %}

    <script>
        var chargeTypeSelect = document.getElementById('charge_type');
        var pointChargeFields = document.getElementById('point_charge_fields');
        var lineChargeFields = document.getElementById('line_charge_fields');
        var surfaceChargeFields = document.getElementById('surface_charge_fields');

        chargeTypeSelect.addEventListener('change', function() {
            var selectedChargeType = chargeTypeSelect.value;

            if (selectedChargeType === 'P') {
                pointChargeFields.style.display = 'block';
                lineChargeFields.style.display = 'none';
                surfaceChargeFields.style.display = 'none';
            } else if (selectedChargeType === 'L') {
                pointChargeFields.style.display = 'none';
                lineChargeFields.style.display = 'block';
                surfaceChargeFields.style.display = 'none';
            } else if (selectedChargeType === 'S') {
                pointChargeFields.style.display = 'none';
                lineChargeFields.style.display = 'none';
                surfaceChargeFields.style.display = 'block';
            }
        });
    </script>
</body>
</html>
